@{
    ViewData["Title"] = "First";
}

<h1>First</h1>
<button id="btn1" class="btn btn-primary">Click</button>
<div id="div1" class="mt-3"></div>

@section Scripts{
    <script>
        //選擇要操作的元素
        const btn = document.querySelector("#btn1");
        //元素增加事件監聽
        btn.addEventListener("click", () => {
            //Step 1 創建XMLHttpRequest物件
            const xhr = new XMLHttpRequest();

            //Step 2 對伺服器發出要求
            xhr.open("GET", "/Api/Index");
            xhr.send();

            //Step 3 接受Response的資料
            //load表示伺服器已收到資料
            xhr.addEventListener("load", ()=>{
                //接收資料
                const data = xhr.responseText;

                //顯示資料
                const myDiv = document.querySelector("#div1");
                myDiv.innerHTML = `<h2>${data}</h2>`;
            })

        })
    </script>
}

@section Styles{

}
